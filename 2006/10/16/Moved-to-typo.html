<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Moved to typo</title>
  <link rel="stylesheet" href="/files/main.css">
  <link rel="alternate" type="application/rss+xml" title="Concept First Blog" href="feed.xml">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-774963-2', 'auto');
        ga('send', 'pageview');
    </script>
  
</head>
    <body>
        <header class="site-header" role="banner">
            <div class="wrapper">
            <a class="site-title" href="/">Concept First Blog</a>
                <nav class="site-nav">
                    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
                    <label for="nav-trigger">
                        <span class="menu-icon">
                            <svg viewBox="0 0 18 15" width="18px" height="15px">
                                <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" />
                                <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" />
                                <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" />
                            </svg>
                        </span>
                    </label>

                    <div class="trigger">
                        <a class="page-link" href="/about/">About</a>
                    </div>
                </nav>
            </div>
        </header>

        <main class="page-content" aria-label="Content">

            
<div class="wrapper">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

        <header class="post-header">
            <h1 class="post-title" itemprop="name headline">Moved to typo</h1>
            <p class="post-meta">
                <time datetime="16/10/2006 11:14:00" itemprop="datePublished">Oct 16, 2006</time>
                â€¢ <span itemprop="author" itemscope="" itemtype="http://schema.org/Person"><span itemprop="name">David Glassborow</span></span>
            </p>
        </header>

        <div class="post-content" itemprop="articleBody">
            <h1 id="what">What</h1>
<p>I've moved my blog away from Blogger.com and on to a <a href="http://typosphere.org">Typo</a> installation hosted ourselves. Typo is a weblog application that runs on top of <a href="http://www.rubyonrails.org/">Ruby On Rails</a>, the latest poster child of the open source community. I chose a rails based blog because I've been doing work with rails recently, I understand it, and I really like it (I'm half way through writing up an entry about why I like it).</p>
<h1 id="why">Why</h1>
<p>The main reason is that blogger feed does not include comments people make. I personally read most blogs in an aggregator, and without comments being included, its only one half of the conversation.</p>
<p>For the last year we have been working on a product for a client that uses <a href="http://en.wikipedia.org/wiki/Queuing_theory">Queuing Theory</a> to model how servers operate under load, an area known as 'Capacity Management'. Performance agents log ongoing behaviour on the server, and then the results are plugged into various mathematical formulae that show how the server will work if your email doubles, your websites have 10 times as much load, etc.</p>
<p>Here at Concept First we have a data centre hosted server that handles email, ftp, and various client's websites.  In the spirit of 'dog-fooding', I've been running monitoring software on our hosted server, and building models of its spare capacity.</p>
<!--more-->
<p>The results are: we have stupid amounts of spare capacity. The server is a 1U rack mounted server from Dell, 1G of RAM, mirrored RAID disks, a single 2Ghz processor.  A fairly low spec machine these days, we bought it about 3 years ago.  And basically it never does anything. I've never seen the CPU loads rise about 5%, same for disk utilisation.  Modern hardware is so fast, that a few web requests and a bit of email are not not giving it much of a workout.</p>
<p>For that reason, I'm happy to run an interpreted language framework for this blog, because we really do have CPU cycles to waste, and I don't have time to waste.  Having a Rails app running on my server full time will also allow me to understand if it's stable under Windows.</p>
<h1 id="how">How</h1>
<h2 id="style">Style</h2>
<p>Typo is easy to install if you've worked with Rails, its just a load of files in a directory. You can choose from 2 built in themes or download lots of others. I've taken one of the built in ones and just changed it to make use of the full screen.</p>
<p>I <em>hate</em> fixed width websites.  What is the point of my lovely 1920 wide screen laptop if the site is only 500 pixels wide !!  Adjusting to the display has always been a key strength of HTML.  Too many people are still designing for the web as though it was a piece of paper !</p>
<p>However the move away from fixed width has caused a small bug to display in IE 6, when using the search box in the top right hand corner.  There is flickering as the AJAX call is done.  However the issue does not occur in IE 7 or Firefox so it is no doubt one of the boatload of IE 6 rendering bugs, so i'm not going to pursuit it. Life is too short.</p>
<h2 id="database">Database</h2>
<p>Typo supports just about every database, but I've just left it running on a simple <a href="http://en.wikipedia.org/wiki/SQLlite">SQLite</a> database. Typo caches everything so i don't really need the hassle of putting it in a real RDBMS.  The server is already running SQL Server, MySQL and Oracle XE. Maintaining what apps use what databases, where, is a bit of a headache. A file based database is just easier to manage if you can get away with it.</p>
<h2 id="webserver">Webserver</h2>
<p>Our server is running, or has run in the past, various different websites running on lots of different technologies: ASP, Websnap, Coldfusion, Zope, Php, Perl. To manage all this, we use Apache 2 running on Windows Server 2000. Apache has been good to us.  Its very flexible, well documented, secure, and scalable. It is our Internet facing webserver. It handles SSL, compression (via mod_deflate) and virtual hosting.</p>
<p>To connect our hosted sites up to the Apache 'gateway' we've tried various things. We've tried Apache modules, ISAPI, <a href="http://www.fastcgi.com/">FastCGI</a>, SCGI, mod_php.</p>
<p>Apache modules / ISAPI: Nice and fast, but too tightly bound.  When Apache versions change a recompile is required.  Restart the server and you lose server state, like current sessions. Bugs can jeopardise the server stability.</p>
<p>FastCGI: Works well, we have various websnap sites running over FastCGI. However the protocol is complex, binary, and the whole FastCGI protocol is not actively developed any longer.</p>
<p>SCGI: A simpler version of FastCGI, I've run a couple of Rails sites on SCGI.  The protocol is easier to understand, but its another set of config to learn, and not all technologies support SCGI.</p>
<p>With this in mind, we now use simple HTTP proxing.  Each different application runs its own webserver on an internal port number, the firewall preventing any access to the outside world.  Apache then uses its mod_proxy settings to pass the request to the applications webserver, before passing it back to the web browser.</p>
<p>Advantages:</p>
<ul>
<li>Debugging is simple. Just fire up a copy of <a href="http://www.fiddlertool.com/fiddler/">Fiddler</a>.</li>
<li>All applications support SSL, Apache handles it.</li>
<li>All applications support compression, Apache handles it.</li>
<li>All application logged in same format, I can use the same tools.</li>
<li>Apache can use its redirect rules to enforce my rules (e.g. admin in Typo must be secure).</li>
<li>Upgrading any individual application has no effect on the others, everything is loosly coupled.</li>
<li>Most importantly: One set of syntax for me to remember.</li>
</ul>
<p>It all works beautifully.  It's happily proxing to Rails, to web services exposed in Indy components. It's fast, and it 'Just Works', not often you get to say that in the world of computing ...</p>

        </div>

        <div id="disqus_thread"></div>
        <script>
            var disqus_config = function () {
                this.page.url = 'https://blogs.conceptfirst.com/2006/10/16/Moved-to-typo.html';
                this.page.identifier = 'https://blogs.conceptfirst.com/2022/09/12/2006/10/16/Moved-to-typo.html';
            };

            (function () {
                var d = document, s = d.createElement('script');
                s.src = 'https://conceptfirst.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>




    </article>
</div>




        </main>

        <footer class="site-footer">
            <div class="wrapper">
            <h2 class="footer-heading">Concept First Blog</h2>
                <div class="footer-col-wrapper">
                    <div class="footer-col footer-col-1">
                        <ul class="contact-list">
                        <li>Concept First Blog</li>
                        </ul>
                    </div>
                    <div class="footer-col footer-col-2">
                        <ul class="social-media-list">
                            <li>
                                <a href="https://github.com/conceptfirst">
                                    <span class="icon icon--github">
                                        <svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z" /></svg>
                                    </span><span class="username">conceptfirst</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer-col footer-col-3">
                        <p>IT consultancy, web development, data analysis and application development</p>
                    </div>
                </div>
            </div>
        </footer>
    </body>
</html>
